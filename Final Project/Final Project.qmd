---
title: "Dollars for Doubles"
subtitle: "An Econometric Analysis of MLB Salary On Offensive Performance"
author: "Sam Turner"
format: pdf
editor: visual
execute: 
  echo: false
  warning: false
geometry: margin = 1in
fontsize: 12pt
mainfont: Times New Roman
sansfont: Times New Roman
linestretch: 2
indent: true
---

```{r}
#Load all libraries
library(Lahman)
library(tidyverse)
library(broom)
library(modelsummary)
library(fixest)
library(quantmod)
library(scales)
```

# Introduction

In 2019 Mike Trout set the MLB record for largest contract ever signed at \$426 million. But with the league minimum at \$700,000 in 2022, is it really fair to say that he performs at a level 609 times better than his "minimum wage counterparts? That is exactly the question this paper aims to address, to what extent is offensive performance, in the MLB, awarded in salary?

This paper is of particular interest to owners and baseball operations personnel in the MLB but is also of interest to the general public. Often when building new stadiums or renovating a current one, a city will financially support their team making the taxpayer's part owners in the franchise. Therefore, the general public should have an interest in how their money is being spent by these teams, since the teams have enough money for blockbuster deals but not enough for the stadium they want.

This paper uses a two-stage least-squares regression to first quantify a player's offensive performance in a given season. Then, the player's performance is compared to the real salary that they earned also in that season. The data used comes from the Sean Lahman relational MLB database. This database is free and available to the public. The data base has observations on a plethora of statistics either directly or indirectly related to the MLB and its teams. This includes data on offensive outcomes for both teams and players from 1871 to 2021. There is also salary information that spans from 1985 to 2016. The intersection of the three of these data sets has over 15,000 observations.

Ultimately, this paper reaches the conclusion that there is a weak but positive relationship between offensive performance and real salary. This makes intuitive sense since offensive performance should be rewarded by the market, yet there are other factors that influence a player's salary. Defensive performance and fan opinion just to name a few. Further research to calculate the quantifiable aspects of a player's performance is needed to remove as much endogeneity and approach the true relationship of a player's performance to their salary.

# Literature Review

This paper is not the first to consider how player performance is rewarded in the MLB. After the 1974 labor strike in the MLB Gerald W. Scully published his article *Pay and Performance in Major League Baseball* where he considers a similar topic. His goal is slightly different, focusing on measuring the economic loss of players due to the reserve clause in all MLB player's contracts. However, in order to reach this conclusion he must first calculate player's marginal revenue and uses simplifying assumptions of ratios to represent offensive and defensive performance, instead of OLS estimators of runs like this paper. His conclusions are similar to this paper's in that he also concludes that offensive performance is a poor sole explanation variable for player salary. However, his model improves greatly when he accounts for defensive achievements meaning that follow up papers on this paper's topic are likely to greatly help this paper's explanatory power.

More contemporary literature has, at best, come to mixed conclusions about the subject. Shahriar Hasan finds in *Can Money Buy Success ?: A Study of Team Payroll and Performance in the MLB,* there is strong and statistically significant evidence that a team's payroll effects their win percentage. His data went from 1995 to 2011. Yet, Stephen Hall found the opposite in his 2002 article, *Testing Causality Between Team Performance and Payroll: The Cases of Major League Baseball and English Soccer.* Hall finds that there is no causal link between payroll and team performance, measured in winning percentage. Interestingly, Hall does find correlation between payroll and performance. His data goes from 1980 to 2000. Finally, Jacob Andrew Loree takes the middle ground in his 2016 article, *Determinants of Baseball Success: An Econometrics Approach*. Loree finds that there is a statistically significant effect of salary on team success, measured by total runs and bases for a team in a season. However, Loree points out that the cost of buying these additional wins is too great for many small market teams to afford, making the effect basically nonexistent.

Thus, with three vastly different approaches and conclusions to consider, this paper aims at attempting to help settle this debate by considering more contemporary data.

# Theory

Using microeconomic intuition, we would expect to find that there should be a logarithmic relationship between salary and performance. This is due to the law of diminishing returns. We would expect players to earn more at an exponential rate when they perform above average. This is because there is competition between all teams, both large and small market, for players who are slightly above average. This large amount of competition will drive their wages up. This exponential curve will eventually start to level off once the salary level reaches the point that only a few of the largest market teams can afford the player. This decrease in competition is what will make the curve almost parallel to the x-axis at the greatest levels of performance.

We should also expect that the salary and performance should have a high correlation. Competition between teams for players should allow for the true value of the player to be reached under the efficient market hypothesis. Teams also have access to all the same information as one another with respect to player performance on the field. Therefore, this transparency of information should lead to teams having similar valuation of player's and their abilities.

# Data Description

There are two data bases that were used for this analysis. The first, for all the baseball statistics and observations, is the Sean Lahman database. And the second is the CPI index from the Federal Reserve Bank.

The Lahman database is extensive with over 30 datasets covering different aspects of the MLB from player performance to stadium details and more. It is a relational database meaning that every data set is related to another data set by a vector which has the same values for each observation. This feature is particularly helpful for this paper because it aims to use panel data of every player from 1985 to 2016 in an attempt to most accurately measure the player performance and salary. The main data sets that this paper uses are Salaries, Appearances, Teams, and Batting.

```{r}
Teams <- Lahman::Teams
Batting <- Lahman::Batting
Appearances <- Lahman::Appearances
Salaries <- Lahman::Salaries
```

One of the few limitations of the Lahman database is that the Salaries data set only contains observations from 1985 to 2016. Therefore, this analysis will only use data observed from 1985 to 2016 across the other data sets. The salaries data set only has three variables of interest to this analysis, playerID and yearID to find a player's performance. And salary, which is the player's nominal salary in a given year.

```{r}
#Make all datasets only have observations from 1985 to 2016
Teams1985 <- Teams %>% 
  filter(yearID >= 1985 & yearID <= 2016)

PositionAppearances <- Appearances %>% 
  filter(yearID >= 1985 & yearID <= 2016)

PositionBatting <- Appearances %>% 
  filter(yearID >= 1985 & yearID <= 2016)
```

```{r}
ggplot(data = Salaries)+
  aes(x=as_factor(yearID),
      y=salary)+
  geom_boxplot(alpha=.4)+
  scale_y_continuous(labels = label_comma())+
  scale_x_discrete(guide = guide_axis(angle=45))+
  labs(x="Year",
       y="Salary ($)",
       title="Nominal Salaries From 1985 to 2016")
```

The Appearances data set was only used for filtering by position players. In the National League (NL) pitchers are required to hit to continue pitching the next inning. Including them in the analysis will create outliers since they are being rewarded for their pitching performance and not offensive performance. Thus, to eliminate them a player must have at least 5 appearances in a position other than pitching to be considered for the analysis.

```{r}
#Filter Appearances to only include position players (not pitchers)
PositionAppearances <- PositionAppearances %>% 
  filter(G_c >= 5 | G_1b >= 5 | G_2b >= 5 | G_3b >= 5 | G_ss >= 5 | G_lf >= 5 | G_cf >= 5 | G_rf >= 5 | G_of >= 5 | G_dh >= 5)
```

The Teams data set includes almost 3000 observations on almost 50 variables. Since this paper is only on offensive performance, only a few are of interest. A couple variables must be calculated manually since they are not provided by the data set. These variables are OB, which is a statistic to cumulatively represent when a player reaches base without putting the ball in play. And X1B which is simply the total singles in a season, calculated by taking total hits and subtracting the count of every other hit outcome from that total.

Work please

<table style="width:100%;">
<caption>Teams Data Set Variables</caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Variable</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>R</p></td>
<td><p>Total runs scored by a team in a season</p></td>
</tr>
<tr class="even">
<td><p>X1B</p></td>
<td><p>Total singles hit in a season. Formula: <span class="math inline"><em>H</em> − <em>X</em>2<em>B</em> − <em>X</em>3<em>B</em> − <em>H</em><em>R</em></span></p></td>
</tr>
<tr class="odd">
<td><p>X2B</p></td>
<td><p>Total doubles hit in a season</p></td>
</tr>
<tr class="even">
<td><p>X3B</p></td>
<td><p>Total Triples hit in a season</p></td>
</tr>
<tr class="odd">
<td><p>HR</p></td>
<td><p>Total home runs hit in a season</p></td>
</tr>
<tr class="even">
<td><p>OB</p></td>
<td><p>Total hit by pitches, intentional and unintentional walks.</p>
<p>Formula: <span class="math inline"><em>H</em><em>B</em><em>P</em> + <em>B</em><em>B</em> + <em>I</em><em>B</em><em>B</em></span></p></td>
</tr>
<tr class="odd">
<td><p>SF</p></td>
<td><p>Sacrifice flies hit in a season</p></td>
</tr>
</tbody>
</table>

: Teams Data Set Variables

Work please

| Variable | Min                  | Median | Mean | Max | Std. Dev. |
|----------|----------------------|--------|------|-----|-----------|
| R        | `r min(Teams1985$R)` |        |      |     |           |
| X1B      |                      |        |      |     |           |
| X2B      |                      |        |      |     |           |
| X3B      |                      |        |      |     |           |
| HR       |                      |        |      |     |           |
| OB       |                      |        |      |     |           |
| SF       |                      |        |      |     |           |

: Teams Summary Statistics

The Batting data set breaks down all of the offensive observations by player instead of by team as Teams did. This makes it almost identical to Teams other than it only considers offensive observations of players, hence the name Batting.

# Empirical Model

# Results/Implications

# Bibliography
